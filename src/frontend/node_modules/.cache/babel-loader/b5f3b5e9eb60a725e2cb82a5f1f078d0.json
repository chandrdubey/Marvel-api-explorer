{"ast":null,"code":"import axios from \"axios\";\nimport * as jwtDecode from \"jwt-decode\";\nexport const registerUserAction = data => {\n  return dispatch => {\n    axios.post(\"http://localhost:5000/signup\", data).then(response => {\n      console.log(response);\n      localStorage.setItem(\"token\", response.data.token);\n      jwtDecode(response.data.token).then(user => dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: user\n      })); //   dispatch({type:'LOGIN_SUCCESS', payload:response.data.data.user_detail}) ;\n    });\n  };\n};\nexport const loginUserAction = data => {\n  return dispatch => {\n    axios.post(\"http://localhost:5000/login\", data).then(response => {\n      console.log(response);\n      console.log(response.data.data.user_detail);\n      if (response.status === 200) localStorage.setItem(\"token\", response.data.token);\n      jwtDecode(response.data.token).then(user => dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: user\n      })); //   dispatch({type:'LOGIN_SUCCESS', payload: response.data.data.user_detail}) ;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n};\nexport const authenticateUserAction = user => {\n  return dispatch => {\n    dispatch({\n      type: 'LOGIN_SUCCESS',\n      payload: user\n    });\n  };\n};\nexport const logOutUserAction = () => {\n  return dispatch => {\n    localStorage.removeItem(\"token\");\n    dispatch({\n      type: 'LOGOUT'\n    });\n  };\n};","map":{"version":3,"sources":["D:/web d/React.js/Learning React/marvel-superstars/src/frontEnd/src/actions/authAction.js"],"names":["axios","jwtDecode","registerUserAction","data","dispatch","post","then","response","console","log","localStorage","setItem","token","user","type","payload","loginUserAction","user_detail","status","catch","error","authenticateUserAction","logOutUserAction","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,OAAO,MAAMC,kBAAkB,GAAIC,IAAD,IAAU;AAC1C,SAAQC,QAAD,IAAc;AACnBJ,IAAAA,KAAK,CACFK,IADH,CACQ,8BADR,EACwCF,IADxC,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACJ,IAAT,CAAcS,KAA5C;AACDX,MAAAA,SAAS,CAAEM,QAAQ,CAACJ,IAAT,CAAcS,KAAhB,CAAT,CAAgCN,IAAhC,CAAuCO,IAAD,IAAUT,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAAC,eAAN;AAAuBC,QAAAA,OAAO,EAAEF;AAAhC,OAAD,CAAxD,EAHmB,CAIxB;AACK,KAPH;AAQD,GATD;AAUD,CAXM;AAaP,OAAO,MAAMG,eAAe,GAAIb,IAAD,IAAU;AACvC,SAAQC,QAAD,IAAc;AACnBJ,IAAAA,KAAK,CACFK,IADH,CACQ,6BADR,EACuCF,IADvC,EAEGG,IAFH,CAESC,QAAD,IAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACJ,IAAT,CAAcA,IAAd,CAAmBc,WAA/B;AACA,UAAGV,QAAQ,CAACW,MAAT,KAAoB,GAAvB,EACAR,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,QAAQ,CAACJ,IAAT,CAAcS,KAA5C;AACAX,MAAAA,SAAS,CAAEM,QAAQ,CAACJ,IAAT,CAAcS,KAAhB,CAAT,CAAgCN,IAAhC,CAAuCO,IAAD,IAAUT,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAAC,eAAN;AAAuBC,QAAAA,OAAO,EAAEF;AAAhC,OAAD,CAAxD,EALgB,CAMnB;AAEE,KAVL,EAWGM,KAXH,CAWS,UAAUC,KAAV,EAAiB;AACtBZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,KAbH;AAcD,GAfD;AAgBD,CAjBM;AAkBP,OAAO,MAAMC,sBAAsB,GAAIR,IAAD,IAAS;AAC7C,SAAQT,QAAD,IAAa;AAClBA,IAAAA,QAAQ,CAAC;AAACU,MAAAA,IAAI,EAAC,eAAN;AAAuBC,MAAAA,OAAO,EAAEF;AAAhC,KAAD,CAAR;AAED,GAHD;AAID,CALM;AAOP,OAAO,MAAMS,gBAAgB,GAAG,MAAM;AACpC,SAAQlB,QAAD,IAAc;AAEbM,IAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAnB,IAAAA,QAAQ,CAAC;AAACU,MAAAA,IAAI,EAAC;AAAN,KAAD,CAAR;AACP,GAJD;AAKD,CANM","sourcesContent":["import axios from \"axios\";\r\nimport * as jwtDecode from \"jwt-decode\";\r\nexport const registerUserAction = (data) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .post(\"http://localhost:5000/signup\", data)\r\n      .then((response) => {\r\n        console.log(response);\r\n        localStorage.setItem(\"token\", response.data.token);\r\n       jwtDecode( response.data.token).then( (user) => dispatch({type:'LOGIN_SUCCESS', payload: user}) )\r\n  //   dispatch({type:'LOGIN_SUCCESS', payload:response.data.data.user_detail}) ;\r\n      })\r\n  };\r\n};\r\n\r\nexport const loginUserAction = (data) => {\r\n  return (dispatch) => {\r\n    axios\r\n      .post(\"http://localhost:5000/login\", data)\r\n      .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data.data.user_detail);\r\n          if(response.status === 200)\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          jwtDecode( response.data.token).then( (user) => dispatch({type:'LOGIN_SUCCESS', payload: user}) )\r\n       //   dispatch({type:'LOGIN_SUCCESS', payload: response.data.data.user_detail}) ;\r\n          \r\n        })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n}\r\nexport const authenticateUserAction = (user) =>{\r\n  return (dispatch) =>{\r\n    dispatch({type:'LOGIN_SUCCESS', payload: user});  \r\n     \r\n  }\r\n}\r\n\r\nexport const logOutUserAction = () => {\r\n  return (dispatch) => {\r\n  \r\n          localStorage.removeItem(\"token\");\r\n          dispatch({type:'LOGOUT'});\r\n  };\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}